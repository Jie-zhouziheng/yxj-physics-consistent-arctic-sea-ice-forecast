# 物理一致性轻量级深度学习：北极海冰浓度季节预测（1–6 个月）

本项目是一个可复现的 **Jupyter + Python** 开源科研工程项目，目标是在
**算力受限** 条件下，实现 **北极海冰浓度（Sea Ice Concentration, SIC）的季节尺度预测**
（预测提前量为 **1–6 个月**）。

项目采用 **工程优先（engineering-first）** 的设计理念：
先构建稳定、可复现的数据与基线框架，再逐步引入物理一致性约束与轻量级深度学习模型。

项目核心目标是在 **算力受限** 条件下，构建一个 **融合物理认知的轻量级深度学习框架**，在保证预测性能的同时提升模型的**物理合理性、稳定性与可复现性**。

---

## 项目核心思想

* 在 **算力受限** 条件下，采用 **轻量级模型结构**，避免对大规模网络和高算力资源的依赖
* 显式引入 **关键物理变量协同建模**，提升季节尺度预测的物理约束能力
* 针对 **春季转折阶段** 进行重点时序建模，以缓解“**春季可预报性屏障**”问题
* 在损失函数中加入 **物理一致性约束**，包括空间连续性与时间平滑性约束

---

## 项目亮点

* **物理驱动输入变量**
    使用海冰浓度（SIC）并结合海冰厚度（或其 proxy）和近地表气温异常等关键物理因子

* **季节感知时序建模模块**
    * 冬季稳定阶段：采用时间聚合方式压缩背景状态
    * 春季转折阶段：使用轻量级时序单元进行重点建模

* **物理一致性损失函数**
    通过正则化项抑制空间上的非物理突变与时间上的剧烈跳变

* **轻量化与可复现性**
    模型结构简洁，训练与推理成本低，适合在单 GPU 或资源受限环境下运行

---

## 数据源说明

### 已实现的数据源（当前主线）

#### 海冰浓度（Sea Ice Concentration, SIC）

- 数据来源：NSIDC
- 推荐产品：NSIDC-0051 v2（月平均）
- 空间分辨率：25 km 极区立体投影网格
- 时间范围：1979–2022
- 用途：
    - 所有 baseline 实验
    - 物理一致性模型的核心预测变量

> 本项目当前阶段的所有实验均基于 SIC 数据构建，
> 其他物理变量将在后续阶段逐步引入。

### 计划引入的物理协变量（未来扩展）

- 海冰厚度（SIT）或其 proxy  
    *数据来源：PIOMAS 等*

- 近地表气温异常（SAT anomaly）  
    *数据来源：ERA5 再分析资料*

---

## 仓库结构说明

```text
├── configs/        # 实验与模型配置文件
├── data/           # 数据集（原始数据 / 处理后数据）
├── experiments/    # 实验输出（日志、指标、模型权重）
├── figures/        # 自动生成的图像与可视化结果
├── notebooks/      # 端到端可复现的分析流程（下载 → 预处理 → 训练 → 评估）
├── scripts/        # 一次性或入口脚本（如数据下载、训练入口）
├── src/            # 工程化核心代码（dataset / model / loss / train 等）
└── README.md
```

`src/` 目录包含项目的核心工程实现，
其内部模块划分与设计说明详见 `src/README.md`。


---

## 快速开始

### 1️⃣ 安装依赖环境

```bash
conda env create -f environment.yml
conda activate seaice_tgrs

（可选）：
pip install -r requirements.txt
```

environment.yml：保证数据处理可用（xarray/netcdf4 稳定）

requirements.txt：补充可选包（比如训练相关）

---

### 2️⃣ 按顺序运行 Jupyter Notebooks

```text
01_data_download.ipynb
02_preprocessing.ipynb
04_baselines.ipynb
05_physics_consistent_model.ipynb
```

这些 notebooks 将依次完成数据获取、预处理、基线方法训练以及物理一致性模型训练。

---

### 3️⃣ 训练模型（脚本方式）

```bash
python -m src.train --config experiments/configs/base.yaml
```

---

## 基线方法（Baselines）

* 持续性预测（Persistence）
* 气候平均法（Climatology）
* 线性回归模型(Linear Regression)
* 轻量级 U-Net（可选，用于深度学习对比）

---

## 评估指标

* **RMSE / MAE**
    在北极有效冰区网格范围内计算，用于衡量整体预测误差

* **空间分布对比分析**
    重点关注海冰边缘区域及典型月份的预测结构合理性

---

## 引用说明

如果你在研究或工程中使用了本项目的代码、流程或实验设计，请引用对应的论文或技术报告。

---

## 致谢

感谢以下机构和项目提供高质量的开放数据支持：

* NSIDC
* ERA5
* PIOMAS